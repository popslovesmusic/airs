Harness Update Report (2026-01-23)
=================================

Key changes since prior report
------------------------------
- Step runners now execute CLIs directly via CreateProcessW (no PowerShell) and stream fixture JSONL into stdin.
- Normalized stdout before hashing (strip xecution_time_ms, ngine_id, perf fields; drop non-success lines) so hashes are repeatable.
- Added per-engine deterministic metrics surfaced by the CLIs:
  - DASE engines emit metrics.state_norm (L2 norm after one step).
  - SID engines emit metrics.active_nodes (count of active entries after one step).
- Runners parse those metrics and write them into goldens; harness asserts both hash and metric. Any runner/CLI failure or mismatch fails the test.
- Updated harness invocation helper to spawn runners directly (no cmd quoting issues).
- Refreshed goldens in rtifacts/validation/<engine>/out.json.

Current goldens
---------------
- basic_compute_substrate: hash 956aeb0623414a47, state_norm=1024
- satp_higgs: hash 14650fb0739d0383, state_norm=0
- gw: hash f8813f85bb44d6ef, state_norm=1.45005e-87
- igsoa_complex: hash f1ecbfa6e26f8fff, state_norm=32
- sid_ssp: hash 8d447646765728c0, active_nodes=1024
- sid_ternary: hash 956d1239323d716f, active_nodes=1024

Status
------
- ctest -C Debug -L harness passes on 2026-01-23.
- Runners: uild/Debug/dase_step_runner.exe, uild/Debug/sid_step_runner.exe.
- CLIs expected at Simulation/dase_cli/dase_cli.exe (used for both DASE and SID).

Usage
-----
- Build: cmake --build build --config Debug --target dase_step_runner sid_step_runner harness_tests
- Run:   cd build && ctest -C Debug -L harness --output-on-failure
- Refresh a golden (example):
  uild/Debug/dase_step_runner.exe Simulation/tests/fixtures/inputs/gw_step.jsonl artifacts/validation/gw/out.json

Notes / TODO
------------
- Placeholder tests (determinism, vacuum stability, consistency) still marked GTEST_SKIP.
- metrics/<engine>/...json captures per-run metrics; remove or archive as needed.
- Scratch folder Testing/Temporary/ was left by VS/CTest; safe to delete if not in use.
